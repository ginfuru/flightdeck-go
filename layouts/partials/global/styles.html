{{/* Scss is pipped with Hugo asset pipline.
  This is based on two environment variables,
  if you need to add more add an else. IE: stage */}}

{{ if eq hugo.Environment "development" }}
  {{ $options := (dict "outputStyle" "expanded" "enableSourceMap" true) }}
  {{ $style := resources.Get "sass/styles.scss" | toCSS $options }}

  <link rel="stylesheet" href="{{ $style.Permalink }}" />

{{ end }}

{{ if eq hugo.Environment "production" }}
  {{ $options := (dict "targetPath" "css/styles.css" "outputStyle" "compressed") }}
  {{ $style := resources.Get "sass/styles.scss" | toCSS $options | resources.PostCSS (dict "config" "postcss.config.js") | fingerprint "md5" }}

  <link rel="stylesheet" href="{{ $style.Permalink }}" />

{{ end }}
